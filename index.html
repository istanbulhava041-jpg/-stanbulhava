<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="manifest.json">
    <title>ƒ∞stanbul Hava Durumu Pro</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { margin: 0; background: #1a5bb0; color: white; font-family: sans-serif; padding: 15px; }
        .menu-btn { position: fixed; top: 15px; left: 15px; font-size: 28px; cursor: pointer; z-index: 1001; background: rgba(0,0,0,0.3); padding: 5px 12px; border-radius: 8px; }
        .side-menu { position: fixed; top: 0; left: -100%; width: 100%; height: 100%; background: #16213e; z-index: 1000; transition: 0.3s; padding: 80px 20px; box-sizing: border-box; overflow-y: auto; }
        .side-menu.active { left: 0; }
        .side-menu a { display: block; padding: 15px; color: #87CEEB; text-decoration: none; font-size: 18px; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .selects { display: flex; gap: 8px; margin: 60px 0 20px 0; }
        select { flex: 1; padding: 12px; border-radius: 12px; border: none; background: rgba(255,255,255,0.2); color: white; font-weight: bold; outline: none; }
        select option { color: #333; }
        .card { background: rgba(255,255,255,0.15); backdrop-filter: blur(10px); border-radius: 25px; padding: 25px; text-align: center; border: 1px solid rgba(255,255,255,0.2); }
        .main-temp { font-size: 75px; font-weight: bold; margin: 10px 0; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 20px; }
        .box { background: rgba(0,0,0,0.2); padding: 15px; border-radius: 15px; }
        .box span { display: block; font-size: 11px; opacity: 0.7; }
        .diag-box { background: rgba(0,0,0,0.2); border-radius: 20px; padding: 15px; margin-top: 20px; height: 250px; }
    </style>
</head>
<body>
    <div class="menu-btn" onclick="toggleMenu()">‚ò∞</div>
    <div class="side-menu" id="sideMenu">
        <a href="javascript:void(0)" onclick="toggleMenu()">‚ùå Kapat</a>
        <a href="mailto:Istanbulhava041@gmail.com">üìß Bize Ula≈üƒ±n</a>
        <div style="padding: 15px; font-size: 14px; color: #ccc; line-height: 1.7;">
            <h3>Hakkƒ±mƒ±zda</h3>
            <p>ƒ∞stanbul'un 39 il√ßesi ve 963 mahallesi i√ßin geli≈ütirilmi≈ü en detaylƒ± hava durumu uygulamasƒ±dƒ±r. Veriler Open-Meteo ve GEFS modelleriyle anlƒ±k g√ºncellenir.</p>
        </div>
    </div>
    <div class="selects">
        <select id="ilceList" onchange="ilceDegis()"></select>
        <select id="mahalleList" onchange="havaGetir()"></select>
    </div>
    <div class="card">
        <div id="yer" style="font-size: 18px; opacity: 0.8;">Y√ºkleniyor...</div>
        <div class="main-temp" id="derece">--¬∞</div>
        <div id="durum" style="font-size: 20px;">Bekleyiniz...</div>
        <div class="grid">
            <div class="box"><span>Hissedilen</span><b id="his">--¬∞</b></div>
            <div class="box"><span>Nem</span><b id="nem">%--</b></div>
            <div class="box"><span>R√ºzgar</span><b id="ruz">-- km/s</b></div>
            <div class="box"><span>UV</span><b id="uv">--</b></div>
        </div>
    </div>
    <h4 style="margin: 25px 0 10px 5px;">7 G√ºnl√ºk Sƒ±caklƒ±k Trendi</h4>
    <div class="diag-box"><canvas id="grafik"></canvas></div>

<script>
const data = {
    "Adalar": ["Burgazada", "Heybeliada", "Kƒ±nalƒ±ada", "Maden", "Nizam"],
    "Arnavutk√∂y": ["Adnan Menderes", "Anadolu", "Arnavutk√∂y Merkez", "Atat√ºrk", "Baklalƒ±", "Balaban", "Boƒüazk√∂y", "Bolluca", "Boyalƒ±k", "√áilingir", "Deliklikaya", "Dursunk√∂y", "Durusu", "Fatih", "Hacƒ±ma≈ülƒ±", "Hadƒ±mk√∂y", "Hara√ß√ßƒ±", "Hastane", "Hicret", "ƒ∞mrahor", "ƒ∞slambey", "Karaburun", "Karlƒ±bayƒ±r", "M. Fevzi √áakmak", "Mavig√∂l", "Mehmet Akif Ersoy", "Mustafa Kemal Pa≈üa", "Nenehatun", "√ñmerli", "Sazlƒ±bosna", "Ta≈üoluk", "Tayakadƒ±n", "Terkos", "Yassƒ±√∂ren", "Yavuz Selim", "Yenik√∂y", "Ye≈üilbayƒ±r", "Yunus Emre"],
    "Ata≈üehir": ["A≈üƒ±k Veysel", "Atat√ºrk", "Barbaros", "Esatpa≈üa", "Ferhatpa≈üa", "Fetih", "ƒ∞√ßerenk√∂y", "ƒ∞n√∂n√º", "Kayƒ±≈üdaƒüƒ±", "K√º√ß√ºkbakkalk√∂y", "Mevlana", "Mimar Sinan", "Mustafa Kemal", "√ñrnek", "Yeni √áamlƒ±ca", "Yeni Sahra", "Yeni≈üehir"],
    "Avcƒ±lar": ["Ambarlƒ±", "Cihangir", "Denizk√∂≈ükler", "Firuzk√∂y", "G√ºm√º≈üpala", "Merkez", "Mustafa Kemal Pa≈üa", "Tahtakale", "√úniversite", "Ye≈üilkent"],
    "Baƒücƒ±lar": ["100. Yƒ±l", "Baƒülar", "Barbaros", "√áƒ±nar", "Demirkapƒ±", "Evren", "Fatih", "Fevzi √áakmak", "G√∂ztepe", "G√ºne≈üli", "H√ºrriyet", "ƒ∞n√∂n√º", "Kazƒ±m Karabekir", "Kemalpa≈üa", "Kirazlƒ±", "Mahmutbey", "Merkez", "Sancaktepe", "Yavuz Selim", "Yenig√ºn", "Yenimahalle", "Yƒ±ldƒ±ztepe"],
    "Bah√ßelievler": ["Bah√ßelievler", "Cumhuriyet", "√áoban√ße≈üme", "Fevzi √áakmak", "H√ºrriyet", "Kocasinan", "Siyavu≈üpa≈üa", "Soƒüanlƒ±", "≈ûirinevler", "Yenibosna", "Zafer"],
    "Bakƒ±rk√∂y": ["Atak√∂y 1.", "Atak√∂y 2-5-6.", "Atak√∂y 3-4-11.", "Atak√∂y 7-8-9-10.", "Basƒ±nk√∂y", "Cevizlik", "Kartaltepe", "Osmaniye", "Sakƒ±zaƒüacƒ±", "≈ûenlikk√∂y", "Yenimahalle", "Ye≈üilk√∂y", "Ye≈üilyurt", "Zeytinlik", "Zuhuratbaba"],
    "Ba≈üak≈üehir": ["Altƒ±n≈üehir", "Bah√ße≈üehir 1.", "Bah√ße≈üehir 2.", "Ba≈üak", "Ba≈üak≈üehir", "G√ºvercintepe", "ƒ∞kitelli OSB", "Kayaba≈üƒ±", "≈ûahintepe", "≈ûamlar", "Ziya G√∂kalp"],
    "Bayrampa≈üa": ["Altƒ±ntepsi", "Cevatpa≈üa", "ƒ∞smet Pa≈üa", "Kartaltepe", "Kocatepe", "Muratpa≈üa", "Orta", "Terazidere", "Vatan", "Yenidoƒüan", "Yƒ±ldƒ±rƒ±m"],
    "Be≈üikta≈ü": ["Abbasaƒüa", "Akat", "Arnavutk√∂y", "Balmumcu", "Bebek", "Cihann√ºma", "Dikilita≈ü", "Etiler", "Gayrettepe", "Konaklar", "Kuru√ße≈üme", "K√ºlt√ºr", "Levazƒ±m", "Levent", "Mecidiye", "Muradiye", "Nisbetiye", "Ortak√∂y", "Sinanpa≈üa", "T√ºrkali", "Ulus", "Vi≈ünezade", "Yƒ±ldƒ±z"],
    "Beykoz": ["Acarlar", "Akbaba", "Alibahadƒ±r", "Anadolu Hisarƒ±", "Anadolu Kavaƒüƒ±", "Anadolufeneri", "Baklacƒ±", "Bozhane", "Cumhuriyet", "√áamlƒ±bah√ße", "√áengeldere", "√áiftlik", "√áiƒüdem", "√áubuklu", "Dereseki", "Elmalƒ±", "Fatih", "G√∂ksu", "G√∂ll√º", "G√∂rele", "G√∂ztepe", "G√ºm√º≈üsuyu", "ƒ∞ncirk√∂y", "ƒ∞shaklƒ±", "Kanlƒ±ca", "Kavacƒ±k", "Kaynarca", "Kƒ±lƒ±√ßlƒ±", "Mahmut≈üevketpa≈üa", "Merkez", "Orta√ße≈üme", "√ñy√ºmce", "√ñrnekk√∂y", "Pa≈üabah√ße", "Pa≈üamandƒ±ra", "Polonezk√∂y", "Poyrazk√∂y", "Riva", "R√ºzgarlƒ±bah√ße", "Soƒüuksu", "Tokatk√∂y", "Yalƒ±k√∂y", "Yavuz Selim", "Yenimahalle", "Zerzavat√ßƒ±"],
    "Beylikd√ºz√º": ["Adnan Kahveci", "Barƒ±≈ü", "B√ºy√ºk≈üehir", "Cumhuriyet", "Dereaƒüzƒ±", "G√ºrpƒ±nar", "Kavaklƒ±", "Marmara", "Sahil", "Yakuplu"],
    "Beyoƒülu": ["Arap Cami", "Asmalƒ± Mescit", "Bedrettin", "Bereketzade", "Bostan", "B√ºlb√ºl", "Camiikebir", "Cihangir", "√áatmamescit", "√áukur", "Emekyemez", "Evliya √áelebi", "Fetihtepe", "Firuzaƒüa", "G√ºm√º≈üsuyu", "Hacƒ±ahmet", "Hacƒ±mimi", "Halƒ±cƒ±oƒülu", "H√ºseyinayni", "ƒ∞stiklal", "Kadƒ±mehmet", "Kalyoncukulluƒüu", "Kaptanpa≈üa", "Katipmustafa√ßelebi", "Ke√ßecipiri", "Kemanke≈ü", "Kƒ±lƒ±√ßalipa≈üa", "Kocatepe", "Kulaksƒ±z", "Kuloƒülu", "K√º√ß√ºkpiyale", "M√ºeyyetzade", "√ñrnektepe", "Piripa≈üa", "Piyalepa≈üa", "P√ºrtela≈ü", "Sururi", "S√ºtl√ºce", "≈ûahkulu", "≈ûehitmuhtar", "Tomtom", "Yahya Kahya", "Yeni≈üehir"],
    "B√ºy√ºk√ßekmece": ["19 Mayƒ±s", "Ahmediye", "Alkent 2000", "Atat√ºrk", "Bah√ßelievler", "Batƒ±k√∂y", "Celaliye", "Cumhuriyet", "√áakmaklƒ±", "Dizdariye", "Ekinoba", "Fatih", "G√ºzelce", "H√ºrriyet", "Kamiloba", "Karaaƒüa√ß", "Kumburgaz", "Mimarsinan", "Muratbey", "Murat√ße≈üme", "Pƒ±nartepe", "Sinanoba", "T√ºrkoba", "Ulus", "Yenimahalle"],
    "√áatalca": ["Akalan", "Atat√ºrk", "Aydƒ±nlar", "Bah≈üayi≈ü", "Ba≈üak", "Belgrat", "Binkƒ±lƒ±√ß", "√áakƒ±l", "√áanak√ßa", "√áiftlikk√∂y", "Daƒüyenice", "Elbasan", "Fatih", "Ferhatpa≈üa", "G√∂k√ßeali", "G√ºm√º≈üpƒ±nar", "Halla√ßlƒ±", "Hisarbeyli", "ƒ∞hsaniye", "ƒ∞nceƒüiz", "ƒ∞zzettin", "Kabak√ßa", "Kalei√ßi", "Kalfa", "Karacak√∂y", "Karamandere", "Kestanelik", "Kƒ±zƒ±lcaali", "Muratbey", "Nakka≈ü", "Oklalƒ±", "Ormanlƒ±", "Ovayenice", "√ñrc√ºnl√º", "√ñrencik", "Suba≈üƒ±", "Yalƒ±k√∂y", "Yaylacƒ±k", "Yazlƒ±k"],
    "√áekmek√∂y": ["Alemdaƒü", "Aydƒ±nlar", "Cumhuriyet", "√áamlƒ±k", "√áatalme≈üe", "Ek≈üioƒülu", "G√ºng√∂ren", "Hamidiye", "H√ºseyinli", "Kirazlƒ±dere", "Ko√ßullu", "Mehmet Akif", "Merkez", "Mimar Sinan", "Ni≈üantepe", "√ñmerli", "Re≈üadiye", "Sƒ±rapƒ±nar", "Soƒüukpƒ±nar", "Sultan√ßiftliƒüi", "Ta≈üdelen"],
    "Esenler": ["Birlik", "√áifte Havuzlar", "Davutpa≈üa", "Fatih", "Fevzi √áakmak", "Havaalanƒ±", "Kazƒ±m Karabekir", "Kemer", "Menderes", "Mimar Sinan", "Namƒ±k Kemal", "Nene Hatun", "Oru√ßreis", "Tuna", "Turgut Reis", "Yavuz Selim"],
    "Esenyurt": ["Ak√ßaburgaz", "Akevler", "Ak≈üemseddin", "Ardƒ±√ßlƒ±", "A≈üƒ±k Veysel", "Atat√ºrk", "Baƒülar√ße≈üme", "Balƒ±kyolu", "Barbaros Hayrettin Pa≈üa", "Battalgazi", "Cumhuriyet", "√áƒ±nar", "Esenyurt Merkez", "Fatih", "G√ºzelyurt", "H√ºrriyet", "ƒ∞ncirtepe", "ƒ∞n√∂n√º", "ƒ∞stiklal", "Kƒ±ra√ß", "Mehmet Akif Ersoy", "Mehter√ße≈üme", "Mevlana", "Namƒ±k Kemal", "Necip Fazƒ±l Kƒ±sak√ºrek", "Orhan Gazi", "Osmangazi", "Piri Reis", "Saadetdere", "Selahaddin Eyyubi", "Sultaniye", "S√ºleymaniye", "≈ûehitler", "Talatpa≈üa", "Turgut √ñzal", "√ú√ßevler", "Yenikent", "Ye≈üilkent", "Yunusemre", "Zafer"],
    "Ey√ºpsultan": ["Aƒüa√ßlƒ±", "Akpƒ±nar", "Ak≈üemseddin", "Alibeyk√∂y", "√áƒ±r√ßƒ±r", "Defterdar", "D√ºƒümeciler", "Emniyettepe", "Esentepe", "Ey√ºp Merkez", "G√∂kt√ºrk", "G√ºzeltepe", "I≈üƒ±klar", "ƒ∞hsaniye", "ƒ∞slambey", "Karadolap", "Kemerburgaz", "Mimar Sinan", "Mithatpa≈üa", "Ni≈üancƒ±", "Odayeri", "Pirin√ß√ßi", "Rami Cuma", "Rami Yeni", "Sakarya", "Silahtaraƒüa", "Top√ßular", "Ye≈üilpƒ±nar"],
    "Fatih": ["Aksaray", "Ak≈üemsettin", "Alemdar", "Ali Ku≈ü√ßu", "Atikali", "Ayvansaray", "Balabanaƒüa", "Balat", "Beyazƒ±t", "Binbirdirek", "Cankurtaran", "Cerrahpa≈üa", "Cibali", "Demirta≈ü", "Dervi≈ü Ali", "Eminsinan", "Hacƒ±kadƒ±n", "Haseki Sultan", "Hƒ±rka-i ≈ûerif", "Hobyar", "Hoca Gƒ±yasettin", "Hoca Pa≈üa", "ƒ∞skenderpa≈üa", "Kalenderhane", "Karag√ºmr√ºk", "Katip Kasƒ±m", "Kemalpa≈üa", "Kocamustafapa≈üa", "K√º√ß√ºkayasofya", "Mercan", "Mesihpa≈üa", "Mevlanakapƒ±", "Mimar Hayrettin", "Mimar Kemalettin", "Molla Fenari", "Molla G√ºrani", "Molla H√ºsrev", "Muhsine Hatun", "Ni≈üanca", "R√ºstempa≈üa", "Sara√ß ƒ∞shak", "Sarƒ±demir", "Seyyid √ñmer", "Silivrikapƒ±", "Sultan Ahmet", "Sururi", "S√ºleymaniye", "S√ºmb√ºl Efendi", "≈ûehremini", "≈ûehsuvar Bey", "Tahtakale", "Taya Hatun", "Topkapƒ±", "Yavuz Sinan", "Yavuz Sultan Selim", "Yedikule", "Zeyrek"],
    "Gaziosmanpa≈üa": ["Baƒülarba≈üƒ±", "Barbaros Hayrettin Pa≈üa", "Fevzi √áakmak", "H√ºrriyet", "Karadeniz", "Karayollarƒ±", "Karlƒ±tepe", "Kazƒ±m Karabekir", "Merkez", "Mevlana", "Pazari√ßi", "Sarƒ±g√∂l", "≈ûemsipa≈üa", "Yeni Mahalle", "Yenidoƒüan", "Yƒ±ldƒ±ztabya"],
    "G√ºng√∂ren": ["Abdurrahman Nafiz G√ºrman", "Akƒ±ncƒ±lar", "Gen√ßosman", "G√ºne≈ütepe", "G√ºven", "Haznedar", "Mare≈üal √áakmak", "Mehmet Nesih √ñzmen", "Merkez", "Sanayi", "Tozkoparan"],
    "Kadƒ±k√∂y": ["19 Mayƒ±s", "Acƒ±badem", "Bostancƒ±", "Caddebostan", "Caferaƒüa", "Dumlupƒ±nar", "Eƒüitim", "Erenk√∂y", "Fenerbah√ße", "Feneryolu", "Fikirtepe", "G√∂ztepe", "Hasanpa≈üa", "Ko≈üuyolu", "Kozyataƒüƒ±", "Merdivenk√∂y", "Osmanaƒüa", "Rasimpa≈üa", "Sahrayƒ± Cedit", "Suadiye", "Z√ºht√ºpa≈üa"],
    "Kaƒüƒ±thane": ["√áaƒülayan", "√áeliktepe", "Emniyet Evleri", "G√ºltepe", "G√ºrsel", "Hamidiye", "Harmantepe", "H√ºrriyet", "Mehmet Akif Ersoy", "Merkez", "Nurtepe", "Ortabayƒ±r", "Sanayi", "Seyrantepe", "≈ûirintepe", "Talatpa≈üa", "Telsizler", "Yahya Kemal", "Ye≈üilce"],
    "Kartal": ["Atalar", "Cevizli", "Cumhuriyet", "√áavu≈üoƒülu", "Esentepe", "G√ºm√º≈üpƒ±nar", "H√ºrriyet", "Karlƒ±ktepe", "Kordonboyu", "Orhantepe", "Orta", "Petrol ƒ∞≈ü", "Soƒüanlƒ±k Yeni", "Topselvi", "Uƒüur Mumcu", "Yakacƒ±k √áar≈üƒ±", "Yakacƒ±k Yeni", "Yalƒ±", "Yukarƒ±", "Yunus"],
    "K√º√ß√ºk√ßekmece": ["Atakent", "Atat√ºrk", "Be≈üyol", "Cennet", "Cumhuriyet", "Fatih", "Fevzi √áakmak", "G√ºltepe", "Halkalƒ± Merkez", "ƒ∞n√∂n√º", "ƒ∞stasyon", "Kanarya", "Kartaltepe", "Kemalpa≈üa", "Mehmet Akif", "S√∂ƒü√ºtl√º √áe≈üme", "Sultan Murat", "Tevfik Bey", "Yarƒ±mburgaz", "Yeni Mahalle", "Ye≈üilova"],
    "Maltepe": ["Altay√ße≈üme", "Altƒ±ntepe", "Aydƒ±nevler", "Baƒülarba≈üƒ±", "Ba≈üƒ±b√ºy√ºk", "B√ºy√ºkbakkalk√∂y", "Cevizli", "√áƒ±nar", "Esenkent", "Feyzullah", "Fƒ±ndƒ±klƒ±", "Girne", "G√ºlensu", "G√ºlsuyu", "ƒ∞dealtepe", "K√º√ß√ºkyalƒ±", "Yalƒ±", "Z√ºmr√ºtevler"],
    "Pendik": ["Ahmet Yesevi", "Baƒülarba≈üƒ±", "Ballƒ±ca", "Batƒ±", "√áam√ße≈üme", "√áamlƒ±k", "√áƒ±nardere", "Doƒüu", "Dumlupƒ±nar", "Emirli", "Ertuƒürul Gazi", "Esenler", "Esenyalƒ±", "Fatih", "Fevzi √áakmak", "G√∂√ßbeyli", "G√ºll√º Baƒülar", "G√ºzelyalƒ±", "Harmandere", "Kavakpƒ±nar", "Kaynarca", "Kurna", "Kurtdoƒümu≈ü", "Kurtk√∂y", "Orhangazi", "Orta", "Ramazanoƒülu", "Sanayi", "Sapan Baƒülarƒ±", "S√ºl√ºntepe", "≈ûeyhli", "Velibaba", "Yayalar", "Yeni Mahalle", "Yeni≈üehir", "Ye≈üilbaƒülar"],
    "Sancaktepe": ["Abdurrahmangazi", "Akpƒ±nar", "Atat√ºrk", "Emek", "Ey√ºp Sultan", "Fatih", "Hilal", "ƒ∞n√∂n√º", "Meclis", "Merve", "Mevlana", "Osmangazi", "Pa≈üak√∂y", "Safa", "Samandƒ±ra", "Sarƒ±gazi", "Veysel Karani", "Yenidoƒüan", "Yunusemre"],
    "Sarƒ±yer": ["Ayazaƒüa", "Bah√ßek√∂y Kemer", "Bah√ßek√∂y Merkez", "Bah√ßek√∂y Yeni", "Baltalimanƒ±", "B√ºy√ºkdere", "Cumhuriyet", "√áayƒ±rba≈üƒ±", "Dar√º≈ü≈üafaka", "Demircik√∂y", "Emirgan", "Fatih Sultan Mehmet", "Ferahevler", "Garip√ße", "G√ºm√º≈üdere", "Huzur", "ƒ∞stinye", "Kazƒ±m Karabekir Pa≈üa", "Kƒ±sƒ±rkaya", "Kire√ßburnu", "Kocata≈ü", "Kumk√∂y", "Maden", "Maslak", "Merkez", "Pƒ±nar", "Poligon", "PTT Evleri", "Re≈üitpa≈üa", "Rumelifeneri", "Rumelihisarƒ±", "Rumelikavaƒüƒ±", "Tarabya", "Uskumruk√∂y", "Yeni", "Yenik√∂y", "Zekeriyak√∂y"],
    "Silivri": ["Ak√∂ren", "Alibey", "Alipa≈üa", "Balaban", "Bekirli", "Beyciler", "B√ºy√ºk√ßavu≈ülu", "B√ºy√ºkkƒ±lƒ±√ßlƒ±", "B√ºy√ºksinekli", "Cumhuriyet", "√áayƒ±rdere", "√áeltik", "Danamandƒ±ra", "Fatih", "Fener", "Fevzipa≈üa", "Gazitepe", "G√ºm√º≈üyaka", "H√ºrriyet", "ƒ∞smetpa≈üa", "Kadƒ±k√∂y", "Kavaklƒ±", "Kurfallƒ±", "K√º√ß√ºkkƒ±lƒ±√ßlƒ±", "K√º√ß√ºksinekli", "Mimar Sinan", "Ortak√∂y", "Piri Mehmet Pa≈üa", "Sancaktepe", "Sayalar", "Selimpa≈üa", "Semizkumlar", "Seymen", "Yeni", "Yol√ßatƒ±"],
    "Sultanbeyli": ["Abdurrahmangazi", "Adil", "Ahmet Yesevi", "Ak≈üemsettin", "Battalgazi", "Fatih", "Hamidiye", "Hasanpa≈üa", "Mecidiye", "Mehmet Akif", "Mimar Sinan", "Necip Fazƒ±l", "Orhangazi", "Turgut Reis", "Yavuz Selim"],
    "Sultangazi": ["50. Yƒ±l", "75. Yƒ±l", "Cebeci", "Cumhuriyet", "Esentepe", "Eski Habipler", "Gazi", "Habipler", "ƒ∞smetpa≈üa", "Malko√ßoƒülu", "Sultan√ßiftliƒüi", "Uƒüur Mumcu", "Yayla", "Z√ºbeyde Hanƒ±m"],
    "≈ûile": ["Aƒüa√ßdere", "Aƒüva Merkez", "Ahmetli", "Ak√ßakese", "Alacalƒ±", "Avcƒ±koru", "Balibey", "Bƒ±√ßkƒ±dere", "Bozgoca", "Bucaklƒ±", "√áataklƒ±", "√áavu≈ü", "√áayƒ±rba≈üƒ±", "√áelebi", "√áengelli", "Darlƒ±k", "Deƒüirmen√ßayƒ±rƒ±", "Doƒüancƒ±lƒ±", "Erenler", "Esenceli", "Geredeli", "G√∂√ße", "G√∂kmaslƒ±", "G√∂ksu", "Hacƒ±kasƒ±m", "Hacƒ±llƒ±", "Hasanlƒ±", "ƒ∞mrendere", "ƒ∞mrenli", "ƒ∞sak√∂y", "Kabakoz", "Kadƒ±k√∂y", "Kalem", "Karabeyli", "Karakiraz", "Karamandere", "Kervansaray", "Kƒ±zƒ±lca", "Koru", "Kumbaba", "Kurfallƒ±", "Kurna", "Me≈ürutiyet", "Oru√ßoƒülu", "Osmank√∂y", "Ovacƒ±k", "Sahilk√∂y", "Satmazlƒ±", "Sofular", "Soƒüullu", "Sortullu", "≈ûuayipli", "Teke", "Ulupelit", "√úvezli", "Yazƒ±manayƒ±r", "Yenik√∂y", "Ye≈üilvadi"],
    "≈ûi≈üli": ["19 Mayƒ±s", "Bozkurt", "Cumhuriyet", "Duatepe", "Ergenekon", "Esentepe", "Eski≈üehir", "Ferik√∂y", "Fulya", "G√ºlbahar", "Halaskargazi", "Halide Edip Adƒ±var", "Halil Rƒ±fat Pa≈üa", "Harbiye", "Huzur", "ƒ∞n√∂n√º", "ƒ∞zzet Pa≈üa", "Kaptanpa≈üa", "Ku≈ütepe", "Mahmut ≈ûevket Pa≈üa", "Mecidiyek√∂y", "Merkez", "Me≈ürutiyet", "Pa≈üa", "Te≈üvikiye", "Yayla"],
    "Tuzla": ["Akfƒ±rat", "Anadolu", "Aydƒ±nlƒ±", "Aydƒ±ntepe", "Cami", "Evliya √áelebi", "Fatih", "ƒ∞√ßmeler", "ƒ∞stasyon", "Mescit", "Mimar Sinan", "Orhanlƒ±", "Orta", "Postane", "≈ûifa", "Tepe√∂ren", "Yayla"],
    "√úmraniye": ["Adem Yavuz", "Altƒ±n≈üehir", "Armaƒüanevler", "A≈üaƒüƒ± Dudullu", "Atakent", "Atat√ºrk", "Cemil Meri√ß", "√áakmak", "√áamlƒ±k", "Dumlupƒ±nar", "Elmalƒ±kent", "Esenevler", "Esenkents", "Esen≈üehir", "Fatih Sultan Mehmet", "Hekimba≈üƒ±", "Huzur", "Ihlamurkuyu", "ƒ∞nkƒ±lap", "ƒ∞stiklal", "Kazƒ±m Karabekir", "Madenler", "Mehmet Akif", "Namƒ±k Kemal", "Necip Fazƒ±l", "Parseller", "Saray", "Site", "≈ûerifali", "Tantavi", "Tatlƒ±su", "Tepe√ºst√º", "Topaƒüacƒ±", "Yamanevler", "Yeni≈üehir", "Yukarƒ± Dudullu"],
    "√úsk√ºdar": ["Acƒ±badem", "Ahmediye", "Altunizade", "Aziz Mahmut H√ºdayi", "Bah√ßelievler", "Barbaros", "Beylerbeyi", "Bulgurlu", "Burhaniye", "Cumhuriyet", "√áengelk√∂y", "Ferah", "G√ºzeltepe", "ƒ∞cadiye", "Kandilli", "Kƒ±sƒ±klƒ±", "Kirazlƒ±tepe", "Kuleli", "Kuzguncuk", "K√º√ß√ºk √áamlƒ±ca", "K√º√ß√ºksu", "K√ºpl√ºce", "Mehmet Akif Ersoy", "Mimar Sinan", "Murat Reis", "Salacak", "Selami Ali", "Selimiye", "Sultantepe", "√únalan", "Valide-i Atik", "Yavuzt√ºrk", "Zeynep Kamil"],
    "Zeytinburnu": ["Be≈ütelsiz", "√áƒ±rpƒ±cƒ±", "G√∂kalp", "Kazlƒ±√ße≈üme", "Maltepe", "Merkezefendi", "Nuripa≈üa", "Seyitnizam", "S√ºmer", "Telsiz", "Veliefendi", "Yenidoƒüan", "Ye≈üiltepe"]
};

let chart = null;
function toggleMenu() { document.getElementById("sideMenu").classList.toggle("active"); }

window.onload = () => {
    const ilSel = document.getElementById("ilceList");
    Object.keys(data).sort((a,b)=>a.localeCompare(b,'tr')).forEach(i => ilSel.add(new Option(i,i)));
    ilSel.value = "Fatih";
    ilceDegis();
};

function ilceDegis() {
    const ilce = document.getElementById("ilceList").value;
    const mSel = document.getElementById("mahalleList");
    mSel.innerHTML = "";
    data[ilce].sort((a,b)=>a.localeCompare(b,'tr')).forEach(m => mSel.add(new Option(m,m)));
    havaGetir();
}

async function havaGetir() {
    const mah = document.getElementById("mahalleList").value;
    const il = document.getElementById("ilceList").value;
    document.getElementById("yer").innerText = mah + ", " + il;
    try {
        const r = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=41.0082&longitude=28.9784&current=temperature_2m,relative_humidity_2m,apparent_temperature,weather_code,wind_speed_10m&daily=temperature_2m_max,uv_index_max&timezone=auto`);
        const d = await r.json();
        document.getElementById("derece").innerText = Math.round(d.current.temperature_2m) + "¬∞";
        document.getElementById("his").innerText = Math.round(d.current.apparent_temperature) + "¬∞";
        document.getElementById("nem").innerText = "%" + d.current.relative_humidity_2m;
        document.getElementById("ruz").innerText = d.current.wind_speed_10m + " km/s";
        document.getElementById("uv").innerText = d.daily.uv_index_max[0];
        const codes = {0:"G√ºne≈üli", 1:"A√ßƒ±k", 2:"Az Bulutlu", 3:"Bulutlu", 45:"Sisli", 61:"Yaƒümurlu", 63:"Yaƒümurlu", 80:"Saƒüanak", 71:"Karlƒ±"};
        document.getElementById("durum").innerText = codes[d.current.weather_code] || "A√ßƒ±k";
        ciz(d.daily.time, d.daily.temperature_2m_max);
    } catch (e) { console.error(e); }
}

function ciz(labels, temps) {
    const ctx = document.getElementById('grafik').getContext('2d');
    if(chart) chart.destroy();
    chart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: labels.map(l => l.split('-').reverse().slice(0,2).join('/')),
            datasets: [{
                data: temps,
                borderColor: '#FFD700',
                borderWidth: 3,
                tension: 0.4,
                fill: true,
                backgroundColor: 'rgba(255,215,0,0.1)',
                pointRadius: 4
            }]
        },
        options: { 
            responsive: true, 
            maintainAspectRatio: false, 
            plugins: { legend: { display: false } },
            scales: { 
                x: { ticks: { color: 'white' }, grid: { display: false } },
                y: { ticks: { color: 'white' }, grid: { color: 'rgba(255,255,255,0.1)' } }
            }
        }
    });
}
</script>
</body>
</html>
